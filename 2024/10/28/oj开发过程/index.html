<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Oj版本一开发过程 - zyh&#039;s blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="zyh&#039;s blog"><meta name="msapplication-TileImage" content="/img/logo.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="zyh&#039;s blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="https:&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;strangersinsist&amp;#x2F;onlineJudge半成品，后续填坑（一定）"><meta property="og:type" content="blog"><meta property="og:title" content="Oj版本一开发过程"><meta property="og:url" content="https://strangersinsist.github.io/2024/10/28/oj%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B/"><meta property="og:site_name" content="zyh&#039;s blog"><meta property="og:description" content="https:&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;strangersinsist&amp;#x2F;onlineJudge半成品，后续填坑（一定）"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://strangersinsist.github.io/img/og_image.png"><meta property="article:published_time" content="2024-10-28T14:37:41.804Z"><meta property="article:modified_time" content="2024-10-28T14:46:30.183Z"><meta property="article:author" content="zyh"><meta property="article:tag" content="web"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://strangersinsist.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://strangersinsist.github.io/2024/10/28/oj%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B/"},"headline":"Oj版本一开发过程","image":["https://strangersinsist.github.io/img/og_image.png"],"datePublished":"2024-10-28T14:37:41.804Z","dateModified":"2024-10-28T14:46:30.183Z","author":{"@type":"Person","name":"zyh"},"publisher":{"@type":"Organization","name":"zyh's blog","logo":{"@type":"ImageObject","url":"https://strangersinsist.github.io/img/logo.svg"}},"description":"https:&#x2F;&#x2F;github.com&#x2F;strangersinsist&#x2F;onlineJudge半成品，后续填坑（一定）"}</script><link rel="canonical" href="https://strangersinsist.github.io/2024/10/28/oj%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B/"><link rel="icon" href="/img/logo.svg"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="zyh's blog" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="zyh&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/strangersinsist"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-10-28T14:37:41.804Z" title="2024/10/28 22:37:41">2024-10-28</time>发表</span><span class="level-item"><time dateTime="2024-10-28T14:46:30.183Z" title="2024/10/28 22:46:30">2024-10-28</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/web%E5%BC%80%E5%8F%91/">web开发</a></span><span class="level-item">21 分钟读完 (大约3092个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Oj版本一开发过程</h1><div class="content"><p><a target="_blank" rel="noopener" href="https://github.com/strangersinsist/onlineJudge">https://github.com/strangersinsist/onlineJudge</a><br>半成品，后续填坑（一定）</p>
<span id="more"></span>
<h1 id="1-测评"><a href="#1-测评" class="headerlink" title="1 测评"></a>1 测评</h1><ul>
<li>代码沙箱（自主实现&#x2F;部署开源项目）</li>
<li>判题 api <a target="_blank" rel="noopener" href="https://rapidapi.com/judge0-official/api/judge0-ce/playground/apiendpoint_489fe32c-7191-4db3-b337-77d0d3932807">judge0 api</a> 选用，最初使用 python 测试运行</li>
<li>用 ai 做代码沙箱，理论上可以但是对于复杂的题目来说可能准确性不高，失去作为 OJ 的意义</li>
<li>移花接木，可以通过操作模拟浏览器的方式，用别人的 OJ 帮助判题，在别人的项目中提交代码并获取结果。比如 vjudge</li>
</ul>
<h1 id="2-问题"><a href="#2-问题" class="headerlink" title="2 问题"></a>2 问题</h1><p>遇到的报错 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;code: &#x27;111&#x27;, input: &#x27;222&#x27;&#125; Analysis_A.vue:88 POST http://localhost:8080/api/runCode 404 (Not Found) request.js:55 errAxiosError: Request failed with status code 404</span><br></pre></td></tr></table></figure>
<p>终端</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Received code: 111 Received input: 222 </span><br></pre></td></tr></table></figure>
<p>但是前端</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload to be sent: &#123;code: &#x27;111&#x27;, input: &#x27;222&#x27;&#125;code: &quot;111&quot;input: &quot;222&quot;[[Prototype]]: Object Analysis_A.vue: 90 Response from backend: undefined</span><br></pre></td></tr></table></figure>
<p>处理 :返回一个 JSON 格式的响应</p>
<p>遇到了问题，前端的 <code>response.data</code> 仍然是 <code>undefined</code>，尽管后端已经正确返回了数据。问题很可能是出现在 Axios 自动解析响应体的过程中，也可能是后端的返回内容格式化不正确。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CrossOrigin(origins = &quot;http://localhost:8080&quot;)</span>  </span><br><span class="line"><span class="meta">@RestController</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeExecutionController</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/runCode&quot;)</span>  </span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;CodeExecutionResponse&gt; <span class="title function_">runCode</span><span class="params">(<span class="meta">@RequestBody</span> CodeExecutionRequest request)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> request.getCode();  </span><br><span class="line">        <span class="type">String</span> <span class="variable">input</span> <span class="operator">=</span> request.getInput();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">String</span> <span class="variable">output</span> <span class="operator">=</span> <span class="string">&quot;Code:\n&quot;</span> + code + <span class="string">&quot;\n\nInput:\n&quot;</span> + input + <span class="string">&quot;\n\nRepeated:\n&quot;</span> + code + <span class="string">&quot;\n\n&quot;</span> + input;  </span><br><span class="line">  </span><br><span class="line">          </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(<span class="keyword">new</span> <span class="title class_">CodeExecutionResponse</span>(output));  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">runCode</span>(<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Running code with input:&quot;</span>, <span class="variable language_">this</span>.<span class="property">testCase</span>);  </span><br><span class="line">  <span class="keyword">const</span> payload = &#123;  </span><br><span class="line">    <span class="attr">code</span>: <span class="variable language_">this</span>.<span class="property">codeInput</span>,  </span><br><span class="line">    <span class="attr">input</span>: <span class="variable language_">this</span>.<span class="property">testCase</span>  </span><br><span class="line">  &#125;;  </span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Payload to be sent:&quot;</span>, payload);    </span><br><span class="line">   </span><br><span class="line">  request.<span class="title function_">post</span>(<span class="string">&quot;http://localhost:9091/api/runCode&quot;</span>, payload, &#123; <span class="attr">responseType</span>: <span class="string">&#x27;json&#x27;</span> &#125;)  </span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;  </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Full response from backend:&quot;</span>, response);  <span class="comment">// 打印完整的响应  </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Response data:&quot;</span>, response.<span class="property">data</span>);  <span class="comment">// 打印response.data  </span></span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (response.<span class="property">data</span> &amp;&amp; response.<span class="property">data</span>.<span class="property">output</span>) &#123;  </span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">testOutput</span> = response.<span class="property">data</span>.<span class="property">output</span>;  </span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Output:&quot;</span>, <span class="variable language_">this</span>.<span class="property">testOutput</span>);  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Output is missing in the response&quot;</span>, response.<span class="property">data</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">      &#125;)  </span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;  </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error running code:&quot;</span>, error);  </span><br><span class="line">      &#125;);  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>解决：<br>检查完整的 <code>response</code> 对象结构<br>从前面的日志看响应中存在数据，进一步打印 <code>response</code> 的完整结构，看看 <code>response.data</code> 是否被放在了其他位置。<br>修改代码，检查 <code>response</code> 对象的所有属性，而不仅仅是 <code>response.data</code>：</p>
<h1 id="3-调用-api"><a href="#3-调用-api" class="headerlink" title="3 调用 api"></a>3 调用 api</h1><p>在 pom. xml 中增加<strong>AsyncHttpClient</strong> 和 <strong>JSON 解析库</strong>依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.asynchttpclient<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>async-http-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.13.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>CodeExecutionController:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.controller;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.JsonNode;  </span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;  </span><br><span class="line"><span class="keyword">import</span> org.asynchttpclient.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.io.IOException;  </span><br><span class="line"><span class="keyword">import</span> java.util.Base64;  </span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CompletableFuture;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CodeExecutionRequest</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String code;  </span><br><span class="line">    <span class="keyword">private</span> String input;  </span><br><span class="line">  </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCode</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> code;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(String code)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.code = code;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInput</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> input;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInput</span><span class="params">(String input)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.input = input;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CodeExecutionResponse</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String output;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CodeExecutionResponse</span><span class="params">(String output)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.output = output;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getOutput</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> output;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOutput</span><span class="params">(String output)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.output = output;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="meta">@CrossOrigin(origins = &quot;http://localhost:8080&quot;)</span>  </span><br><span class="line"><span class="meta">@RestController</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeExecutionController</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">API_HOST</span> <span class="operator">=</span> <span class="string">&quot;judge0-ce.p.rapidapi.com&quot;</span>;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">API_KEY</span> <span class="operator">=</span> <span class="string">&quot;a3adbed817msh3baa8ad5c76fa09p137a87jsn636cf96b2a42&quot;</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/runCode&quot;)</span>  </span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;ResponseEntity&lt;CodeExecutionResponse&gt;&gt; <span class="title function_">runCode</span><span class="params">(<span class="meta">@RequestBody</span> CodeExecutionRequest request)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> request.getCode();  </span><br><span class="line">        <span class="type">String</span> <span class="variable">input</span> <span class="operator">=</span> request.getInput();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 将代码和输入进行 Base64 编码  </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedCode</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(code.getBytes());  </span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedInput</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(input.getBytes());  </span><br><span class="line">  </span><br><span class="line">               <span class="type">String</span> <span class="variable">payload</span> <span class="operator">=</span> String.format(  </span><br><span class="line">                <span class="string">&quot;&#123;\&quot;language_id\&quot;: 52, \&quot;source_code\&quot;: \&quot;%s\&quot;, \&quot;stdin\&quot;: \&quot;%s\&quot;&#125;&quot;</span>,  </span><br><span class="line">                encodedCode, encodedInput  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 创建 AsyncHttpClient 实例  </span></span><br><span class="line">        <span class="type">AsyncHttpClient</span> <span class="variable">client</span> <span class="operator">=</span> Dsl.asyncHttpClient();  </span><br><span class="line">  </span><br><span class="line">                <span class="type">Request</span> <span class="variable">apiRequest</span> <span class="operator">=</span> Dsl.post(<span class="string">&quot;https://&quot;</span> + API_HOST + <span class="string">&quot;/submissions?base64_encoded=true&amp;wait=true&amp;fields=*&quot;</span>)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-key&quot;</span>, API_KEY)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-host&quot;</span>, API_HOST)  </span><br><span class="line">                .setHeader(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>)  </span><br><span class="line">                .setBody(payload)  </span><br><span class="line">                .build();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 处理 API 的响应  </span></span><br><span class="line">        <span class="keyword">return</span> client.executeRequest(apiRequest).toCompletableFuture().thenApply(response -&gt; &#123;  </span><br><span class="line">            <span class="keyword">try</span> &#123;  </span><br><span class="line">                <span class="comment">// 解析 JSON 响应  </span></span><br><span class="line">                <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();  </span><br><span class="line">                <span class="type">JsonNode</span> <span class="variable">jsonNode</span> <span class="operator">=</span> mapper.readTree(response.getResponseBody());  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 解码 stdout 的 Base64 编码  </span></span><br><span class="line">                <span class="type">String</span> <span class="variable">stdout</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;  </span><br><span class="line">                <span class="keyword">if</span> (jsonNode.has(<span class="string">&quot;stdout&quot;</span>) &amp;&amp; !jsonNode.get(<span class="string">&quot;stdout&quot;</span>).isNull()) &#123;  </span><br><span class="line">                    <span class="type">String</span> <span class="variable">stdoutBase64</span> <span class="operator">=</span> jsonNode.get(<span class="string">&quot;stdout&quot;</span>).asText();  </span><br><span class="line">                    stdout = <span class="keyword">new</span> <span class="title class_">String</span>(Base64.getDecoder().decode(stdoutBase64));  </span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                    stdout = <span class="string">&quot;No output received.&quot;</span>;  </span><br><span class="line">                &#125;  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 关闭客户端  </span></span><br><span class="line">                <span class="keyword">try</span> &#123;  </span><br><span class="line">                    client.close();  </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">                    e.printStackTrace();  </span><br><span class="line">                &#125;  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 返回响应给前端  </span></span><br><span class="line">                <span class="keyword">return</span> ResponseEntity.ok()  </span><br><span class="line">                        .contentType(MediaType.APPLICATION_JSON)  </span><br><span class="line">                        .body(<span class="keyword">new</span> <span class="title class_">CodeExecutionResponse</span>(stdout));  </span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">                e.printStackTrace();  </span><br><span class="line">                <span class="keyword">try</span> &#123;  </span><br><span class="line">                    client.close();  </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException ioException) &#123;  </span><br><span class="line">                    ioException.printStackTrace();  </span><br><span class="line">                &#125;  </span><br><span class="line">                <span class="keyword">return</span> ResponseEntity.status(<span class="number">500</span>).body(<span class="keyword">new</span> <span class="title class_">CodeExecutionResponse</span>(<span class="string">&quot;Error processing the request.&quot;</span>));  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="4-提交如何测评？"><a href="#4-提交如何测评？" class="headerlink" title="4 提交如何测评？"></a>4 提交如何测评？</h1><p>手动给出一些输入样例+自动生成输入样例（用程序（上传题目时出题人要给出数据生成代码）或者 AI）<br>判题：将输入样例同时传入标准答案和用户答案，判断两者是否相同。<br><a target="_blank" rel="noopener" href="https://github.com/huanghongxun/judger">huanghongxun&#x2F;Judger: Judge system for Sicily Online Judge, VMatrix Course&#x2F;OJ, GDOI (github.com)</a></p>
<h1 id="5-问题"><a href="#5-问题" class="headerlink" title="5 问题"></a>5 问题</h1><p>在做上传题目的表格时，让 id 自动递增，刚开始没有保存这个表格</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableName(&quot;ojquestion&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OJ</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span>  <span class="comment">// 设置为 AUTO 类型，自增主键</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;  <span class="comment">// 使用 Integer 避免默认值问题</span></span><br><span class="line">    <span class="keyword">private</span> String question;</span><br><span class="line">    <span class="keyword">private</span> String answer;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>application.properties：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mybatis-plus.global-config.db-config.id-type=AUTO</span><br></pre></td></tr></table></figure>
<h1 id="6-两者答案对比"><a href="#6-两者答案对比" class="headerlink" title="6 两者答案对比"></a>6 两者答案对比</h1><p>对提交增加一个方法，点击提交后将输入的code及输入数据返回后端，然后在后端调用api，分别将（输入的code及输入数据）和（后端数据库中的ojquestion表格对应的正确代码answer及前端的输入数据）提交给api运行，如果两者运行结果一致则在前端左侧的”提交“栏显示”答案正确“否则显示”答案错误“</p>
<p><strong>用户操作</strong>：<br>  用户在页面上输入代码和测试数据。<br>点击“提交”按钮。<br><strong>前端逻辑</strong>：<br>发送请求到 <code>/api/submitCode/&#123;id&#125;</code> 接口。<br><strong>后端逻辑</strong>：<br>获取用户代码和输入数据。<br>查询数据库中的正确答案代码。<br>分别运行两段代码，比较运行结果。<br>返回“答案正确”或“答案错误”给前端。<br><strong>前端显示结果</strong>：<br>使用弹窗显示结果信息。</p>
<p><code>CodeExecution.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.controller;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> com.example.demo.entity.OJ;  </span><br><span class="line"><span class="keyword">import</span> com.example.demo.mapper.OjMapper;  </span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;  </span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.JsonNode;  </span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;  </span><br><span class="line"><span class="keyword">import</span> org.asynchttpclient.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.io.IOException;  </span><br><span class="line"><span class="keyword">import</span> java.util.Base64;  </span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;  </span><br><span class="line"><span class="keyword">import</span> java.util.Map;  </span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CompletableFuture;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CodeExecutionRequest</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String code;  </span><br><span class="line">    <span class="keyword">private</span> String input;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCode</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> code;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(String code)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.code = code;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInput</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> input;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInput</span><span class="params">(String input)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.input = input;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CodeExecutionResponse</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String output;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CodeExecutionResponse</span><span class="params">(String output)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.output = output;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getOutput</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> output;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOutput</span><span class="params">(String output)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.output = output;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="meta">@CrossOrigin(origins = &quot;http://localhost:8080&quot;)</span>  </span><br><span class="line"><span class="meta">@RestController</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeExecutionController</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">API_HOST</span> <span class="operator">=</span> <span class="string">&quot;judge0-ce.p.rapidapi.com&quot;</span>;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">API_KEY</span> <span class="operator">=</span> <span class="string">&quot;ecb28c3467mshf8bd712d1eaeae2p100845jsnb2a33783ad93&quot;</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/runCode&quot;)</span>  </span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;ResponseEntity&lt;CodeExecutionResponse&gt;&gt; <span class="title function_">runCode</span><span class="params">(<span class="meta">@RequestBody</span> CodeExecutionRequest request)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> request.getCode();  </span><br><span class="line">        <span class="type">String</span> <span class="variable">input</span> <span class="operator">=</span> request.getInput();  </span><br><span class="line">  </span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedCode</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(code.getBytes());  </span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedInput</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(input.getBytes());  </span><br><span class="line">  </span><br><span class="line">                <span class="type">String</span> <span class="variable">payload</span> <span class="operator">=</span> String.format(  </span><br><span class="line">                <span class="string">&quot;&#123;\&quot;language_id\&quot;: 52, \&quot;source_code\&quot;: \&quot;%s\&quot;, \&quot;stdin\&quot;: \&quot;%s\&quot;&#125;&quot;</span>,  </span><br><span class="line">                encodedCode, encodedInput  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">         </span><br><span class="line">        <span class="type">AsyncHttpClient</span> <span class="variable">client</span> <span class="operator">=</span> Dsl.asyncHttpClient();  </span><br><span class="line">  </span><br><span class="line">               <span class="type">Request</span> <span class="variable">apiRequest</span> <span class="operator">=</span> Dsl.post(<span class="string">&quot;https://&quot;</span> + API_HOST + <span class="string">&quot;/submissions?base64_encoded=true&amp;wait=true&amp;fields=*&quot;</span>)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-key&quot;</span>, API_KEY)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-host&quot;</span>, API_HOST)  </span><br><span class="line">                .setHeader(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>)  </span><br><span class="line">                .setBody(payload)  </span><br><span class="line">                .build();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 处理 API 的响应  </span></span><br><span class="line">        <span class="keyword">return</span> client.executeRequest(apiRequest).toCompletableFuture().thenApply(response -&gt; &#123;  </span><br><span class="line">            <span class="keyword">try</span> &#123;  </span><br><span class="line">                <span class="comment">// 解析 JSON 响应  </span></span><br><span class="line">                <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();  </span><br><span class="line">                <span class="type">JsonNode</span> <span class="variable">jsonNode</span> <span class="operator">=</span> mapper.readTree(response.getResponseBody());  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 解码 stdout 的 Base64 编码  </span></span><br><span class="line">                <span class="type">String</span> <span class="variable">stdout</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;  </span><br><span class="line">                <span class="keyword">if</span> (jsonNode.has(<span class="string">&quot;stdout&quot;</span>) &amp;&amp; !jsonNode.get(<span class="string">&quot;stdout&quot;</span>).isNull()) &#123;  </span><br><span class="line">                    <span class="type">String</span> <span class="variable">stdoutBase64</span> <span class="operator">=</span> jsonNode.get(<span class="string">&quot;stdout&quot;</span>).asText();  </span><br><span class="line">                    stdout = <span class="keyword">new</span> <span class="title class_">String</span>(Base64.getDecoder().decode(stdoutBase64));  </span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                    stdout = <span class="string">&quot;No output received.&quot;</span>;  </span><br><span class="line">                &#125;  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 关闭客户端  </span></span><br><span class="line">                <span class="keyword">try</span> &#123;  </span><br><span class="line">                    client.close();  </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">                    e.printStackTrace();  </span><br><span class="line">                &#125;  </span><br><span class="line">  </span><br><span class="line">                <span class="comment">// 返回响应给前端  </span></span><br><span class="line">                <span class="keyword">return</span> ResponseEntity.ok()  </span><br><span class="line">                        .contentType(MediaType.APPLICATION_JSON)  </span><br><span class="line">                        .body(<span class="keyword">new</span> <span class="title class_">CodeExecutionResponse</span>(stdout));  </span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">                e.printStackTrace();  </span><br><span class="line">                <span class="keyword">try</span> &#123;  </span><br><span class="line">                    client.close();  </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException ioException) &#123;  </span><br><span class="line">                    ioException.printStackTrace();  </span><br><span class="line">                &#125;  </span><br><span class="line">                <span class="keyword">return</span> ResponseEntity.status(<span class="number">500</span>).body(<span class="keyword">new</span> <span class="title class_">CodeExecutionResponse</span>(<span class="string">&quot;Error processing the request.&quot;</span>));  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// 注入 Mapper    </span></span><br><span class="line">    <span class="meta">@Resource</span>  </span><br><span class="line">    <span class="keyword">private</span> OjMapper ojMapper;  </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/api/submitCode/&#123;id&#125;&quot;)</span>  </span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;ResponseEntity&lt;Map&lt;String, String&gt;&gt;&gt; <span class="title function_">submitCode</span><span class="params">(  </span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> Integer id,  </span></span><br><span class="line"><span class="params">            <span class="meta">@RequestBody</span> CodeExecutionRequest request)</span> &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 获取输入的代码和输入数据  </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userCode</span> <span class="operator">=</span> request.getCode();  </span><br><span class="line">        <span class="type">String</span> <span class="variable">inputData</span> <span class="operator">=</span> request.getInput();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 查询数据库中的正确答案代码  </span></span><br><span class="line">        <span class="type">OJ</span> <span class="variable">ojQuestion</span> <span class="operator">=</span> ojMapper.selectById(id);  </span><br><span class="line">        <span class="type">String</span> <span class="variable">correctAnswer</span> <span class="operator">=</span> ojQuestion.getAnswer();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 异步运行用户代码  </span></span><br><span class="line">        CompletableFuture&lt;String&gt; userCodeExecution = executeCode(userCode, inputData);  </span><br><span class="line">        <span class="comment">// 异步运行数据库中正确答案的代码  </span></span><br><span class="line">        CompletableFuture&lt;String&gt; correctAnswerExecution = executeCode(correctAnswer, inputData);  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> userCodeExecution.thenCombine(correctAnswerExecution, (userOutput, correctOutput) -&gt; &#123;  </span><br><span class="line">            Map&lt;String, String&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  </span><br><span class="line">            <span class="keyword">if</span> (userOutput.equals(correctOutput)) &#123;  </span><br><span class="line">                result.put(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;correct&quot;</span>);  </span><br><span class="line">                result.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;答案正确&quot;</span>);  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                result.put(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;incorrect&quot;</span>);  </span><br><span class="line">                result.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;答案错误&quot;</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(result);  </span><br><span class="line">        &#125;).exceptionally(ex -&gt; &#123;  </span><br><span class="line">            ex.printStackTrace();  </span><br><span class="line">            Map&lt;String, String&gt; errorResponse = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  </span><br><span class="line">            errorResponse.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;代码运行出错&quot;</span>);  </span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(<span class="number">500</span>).body(errorResponse);  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 执行逻辑封装成方法  </span></span><br><span class="line">    <span class="keyword">private</span> CompletableFuture&lt;String&gt; <span class="title function_">executeCode</span><span class="params">(String code, String input)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedCode</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(code.getBytes());  </span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedInput</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(input.getBytes());  </span><br><span class="line">  </span><br><span class="line">        <span class="type">String</span> <span class="variable">payload</span> <span class="operator">=</span> String.format(  </span><br><span class="line">                <span class="string">&quot;&#123;\&quot;language_id\&quot;: 52, \&quot;source_code\&quot;: \&quot;%s\&quot;, \&quot;stdin\&quot;: \&quot;%s\&quot;&#125;&quot;</span>,  </span><br><span class="line">                encodedCode, encodedInput  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">AsyncHttpClient</span> <span class="variable">client</span> <span class="operator">=</span> Dsl.asyncHttpClient();  </span><br><span class="line">        <span class="type">Request</span> <span class="variable">apiRequest</span> <span class="operator">=</span> Dsl.post(<span class="string">&quot;https://&quot;</span> + API_HOST + <span class="string">&quot;/submissions?base64_encoded=true&amp;wait=true&amp;fields=*&quot;</span>)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-key&quot;</span>, API_KEY)  </span><br><span class="line">                .setHeader(<span class="string">&quot;x-rapidapi-host&quot;</span>, API_HOST)  </span><br><span class="line">                .setHeader(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>)  </span><br><span class="line">                .setBody(payload)  </span><br><span class="line">                .build();  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> client.executeRequest(apiRequest).toCompletableFuture().thenApply(response -&gt; &#123;  </span><br><span class="line">            <span class="keyword">try</span> &#123;  </span><br><span class="line">                <span class="type">JsonNode</span> <span class="variable">jsonNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>().readTree(response.getResponseBody());  </span><br><span class="line">                <span class="type">String</span> <span class="variable">stdoutBase64</span> <span class="operator">=</span> jsonNode.has(<span class="string">&quot;stdout&quot;</span>) &amp;&amp; !jsonNode.get(<span class="string">&quot;stdout&quot;</span>).isNull()  </span><br><span class="line">                        ? jsonNode.get(<span class="string">&quot;stdout&quot;</span>).asText()  </span><br><span class="line">                        : <span class="string">&quot;&quot;</span>;  </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(Base64.getDecoder().decode(stdoutBase64));  </span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">                e.printStackTrace();  </span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;运行失败&quot;</span>;  </span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;  </span><br><span class="line">                <span class="keyword">try</span> &#123;  </span><br><span class="line">                    client.close();  </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">                    e.printStackTrace();  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Analysis_A.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;  </span><br><span class="line">  &lt;div class=&quot;main-container&quot;&gt;  </span><br><span class="line">    </span><br><span class="line">    &lt;div class=&quot;left-section&quot;&gt;  </span><br><span class="line">      &lt;el-tabs&gt;        &lt;el-tab-pane label=&quot;描述&quot;&gt;  </span><br><span class="line">          </span><br><span class="line">          &lt;div v-html=&quot;renderMarkdown(ojData.question)&quot; class=&quot;markdown-content&quot;&gt;&lt;/div&gt;  </span><br><span class="line">        &lt;/el-tab-pane&gt;        &lt;el-tab-pane label=&quot;提交&quot;&gt;提交内容&lt;/el-tab-pane&gt;  </span><br><span class="line">        &lt;el-tab-pane label=&quot;排名&quot;&gt;排名内容&lt;/el-tab-pane&gt;  </span><br><span class="line">      &lt;/el-tabs&gt;    &lt;/div&gt;  </span><br><span class="line">      </span><br><span class="line">    &lt;div class=&quot;right-section&quot;&gt;  </span><br><span class="line">        </span><br><span class="line">      &lt;div class=&quot;code-area&quot;&gt;  </span><br><span class="line">        &lt;el-input type=&quot;textarea&quot; v-model=&quot;codeInput&quot; rows=&quot;10&quot; placeholder=&quot;Enter your code here&quot;&gt;&lt;/el-input&gt;  </span><br><span class="line">      &lt;/div&gt;  </span><br><span class="line">        </span><br><span class="line">      &lt;div class=&quot;test-output-section&quot;&gt;  </span><br><span class="line">        </span><br><span class="line">        &lt;div class=&quot;test-case-input&quot;&gt;  </span><br><span class="line">          &lt;el-input type=&quot;textarea&quot; v-model=&quot;testCase&quot; rows=&quot;5&quot; placeholder=&quot;在此处填写输入数据，也可留空  </span><br><span class="line">可以按 Ctrl+A 选中全部来一键删除&quot;&gt;&lt;/el-input&gt;  </span><br><span class="line">        &lt;/div&gt;          </span><br><span class="line">        &lt;div class=&quot;test-output&quot;&gt;  </span><br><span class="line">          &lt;el-input type=&quot;textarea&quot; v-model=&quot;testOutput&quot; rows=&quot;5&quot; placeholder=&quot;等待测试运行&quot; disabled&gt;&lt;/el-input&gt;  </span><br><span class="line">        &lt;/div&gt;      &lt;/div&gt;  </span><br><span class="line">      </span><br><span class="line">      &lt;div class=&quot;button-section&quot;&gt;  </span><br><span class="line">        &lt;el-button class=&quot;run-button&quot; @click=&quot;runCode&quot;&gt;测试运行&lt;/el-button&gt;  </span><br><span class="line">        &lt;el-button class=&quot;submit-button&quot; @click=&quot;submitCode&quot;&gt;提交&lt;/el-button&gt;  </span><br><span class="line">      &lt;/div&gt;    &lt;/div&gt;  &lt;/div&gt;&lt;/template&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;script&gt;  </span><br><span class="line">import &#123; marked &#125; from &quot;marked&quot;;  </span><br><span class="line">import request from &quot;@/utils/request&quot;;  </span><br><span class="line">  </span><br><span class="line">export default &#123;  </span><br><span class="line">  name: &quot;Analysis_A&quot;,  </span><br><span class="line">  data() &#123;  </span><br><span class="line">    return &#123;  </span><br><span class="line">      ojData: &#123;  </span><br><span class="line">        id: &#x27;&#x27;,  </span><br><span class="line">        title: &#x27;&#x27;,  </span><br><span class="line">        question: &#x27;&#x27;  </span><br><span class="line">      &#125;,  </span><br><span class="line">      codeInput: &#x27;&#x27;,  </span><br><span class="line">      testCase: &#x27;&#x27;,  </span><br><span class="line">      testOutput: &#x27;&#x27;  </span><br><span class="line">    &#125;;  </span><br><span class="line">  &#125;,  </span><br><span class="line">  created() &#123;  </span><br><span class="line">    const id = this.$route.query.id;  </span><br><span class="line">    if (id) &#123;  </span><br><span class="line">      this.fetchOjData(id);  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;,  </span><br><span class="line">  methods: &#123;  </span><br><span class="line">    fetchOjData(id) &#123;  </span><br><span class="line">      request.get(`/api/oj/$&#123;id&#125;`).then(res =&gt; &#123;  </span><br><span class="line">        this.ojData = res.data;  </span><br><span class="line">      &#125;).catch(error =&gt; &#123;  </span><br><span class="line">        console.error(&quot;Error fetching OJ data:&quot;, error);  </span><br><span class="line">      &#125;);  </span><br><span class="line">    &#125;,  </span><br><span class="line">    renderMarkdown(content) &#123;  </span><br><span class="line">      return marked(content);  </span><br><span class="line">    &#125;,  </span><br><span class="line">    runCode() &#123;  </span><br><span class="line">      console.log(&quot;Running code with input:&quot;, this.testCase);  </span><br><span class="line">      const payload = &#123;  </span><br><span class="line">        code: this.codeInput,  </span><br><span class="line">        input: this.testCase  </span><br><span class="line">      &#125;;  </span><br><span class="line">  </span><br><span class="line">      console.log(&quot;Payload to be sent:&quot;, payload);  // 打印 payload  </span><br><span class="line">      request.post(&quot;http://localhost:9091/api/runCode&quot;, payload, &#123; responseType: &#x27;json&#x27; &#125;)  </span><br><span class="line">          .then(response =&gt; &#123;  </span><br><span class="line">             </span><br><span class="line">            console.log(&quot;Full response object from backend:&quot;, response);  </span><br><span class="line"> </span><br><span class="line">            if (response.data) &#123;  </span><br><span class="line">              console.log(&quot;Response data:&quot;, response.data);  </span><br><span class="line">  </span><br><span class="line">              if (response.data.output) &#123;  </span><br><span class="line">                this.testOutput = response.data.output;  </span><br><span class="line">                console.log(&quot;Output:&quot;, this.testOutput);  </span><br><span class="line">              &#125; else &#123;  </span><br><span class="line">                console.error(&quot;Output is missing in the response:&quot;, response.data);  </span><br><span class="line">              &#125;  </span><br><span class="line">            &#125; else if (response.output) &#123;  </span><br><span class="line">              // 如果数据直接在 response 中，而不是在 response.data 中  </span><br><span class="line">              this.testOutput = response.output;  </span><br><span class="line">              console.log(&quot;Output directly in response:&quot;, this.testOutput);  </span><br><span class="line">            &#125; else &#123;  </span><br><span class="line">              console.error(&quot;No valid data in the response&quot;);  </span><br><span class="line">            &#125;  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .catch(error =&gt; &#123;  </span><br><span class="line">            console.error(&quot;Error running code:&quot;, error);  </span><br><span class="line">          &#125;);  </span><br><span class="line">  </span><br><span class="line">    &#125;,  </span><br><span class="line">    submitCode() &#123;  </span><br><span class="line">      const id = this.$route.query.id;  </span><br><span class="line">      const payload = &#123;  </span><br><span class="line">        code: this.codeInput,  </span><br><span class="line">        input: this.testCase  </span><br><span class="line">      &#125;;  </span><br><span class="line">  </span><br><span class="line">      request.post(`http://localhost:9091/api/submitCode/$&#123;id&#125;`, payload, &#123; timeout: 15000 &#125;)  </span><br><span class="line">          .then(response =&gt; &#123;  </span><br><span class="line">            console.log(&#x27;Full response:&#x27;, response);             </span><br><span class="line">            if (response.message &amp;&amp; response.status) &#123;  </span><br><span class="line">              console.log(&#x27;Direct response message:&#x27;, response.message);  </span><br><span class="line">              console.log(&#x27;Direct response status:&#x27;, response.status);  </span><br><span class="line">              this.showSubmitResult(response.message);  </span><br><span class="line">            &#125; else if (response.data) &#123;  </span><br><span class="line">              // 打印 response.data 检查其是否存在  </span><br><span class="line">              console.log(&#x27;Result data:&#x27;, response.data);  </span><br><span class="line">              const result = response.data;  </span><br><span class="line">              if (result.status === &quot;correct&quot;) &#123;  </span><br><span class="line">                this.showSubmitResult(result.message);  </span><br><span class="line">              &#125; else &#123;  </span><br><span class="line">                this.showSubmitResult(result.message);  </span><br><span class="line">              &#125;  </span><br><span class="line">            &#125; else &#123;  </span><br><span class="line">              this.showSubmitResult(&quot;无法解析服务器响应&quot;);  </span><br><span class="line">            &#125;  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .catch(error =&gt; &#123;  </span><br><span class="line">            console.error(&quot;提交代码时出错:&quot;, error);  </span><br><span class="line">            this.showSubmitResult(&quot;提交失败，请重试&quot;);  </span><br><span class="line">          &#125;);  </span><br><span class="line">    &#125;,  </span><br><span class="line">    showSubmitResult(message) &#123;  </span><br><span class="line">      this.$alert(message, &quot;提交结果&quot;, &#123;  </span><br><span class="line">        confirmButtonText: &quot;确定&quot;  </span><br><span class="line">      &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">&lt;/script&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;style scoped&gt;  </span><br><span class="line">.main-container &#123;  </span><br><span class="line">  display: flex;  </span><br><span class="line">  height: 800px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.left-section &#123;  </span><br><span class="line">  flex: 1;  </span><br><span class="line">  padding: 10px;  </span><br><span class="line">  width: 1500px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.right-section &#123;  </span><br><span class="line">  flex: 2;  </span><br><span class="line">  display: flex;  </span><br><span class="line">  flex-direction: column;  </span><br><span class="line">  padding: 10px;  </span><br><span class="line">  width: 30%;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.code-area &#123;  </span><br><span class="line">  height: 2000px;  </span><br><span class="line">  margin-bottom: 10px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.test-output-section &#123;  </span><br><span class="line">  display: flex;  </span><br><span class="line">  justify-content: space-between;  </span><br><span class="line">  flex: 1;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.test-case-input, .test-output &#123;  </span><br><span class="line">  width: 48%;  </span><br><span class="line">  height: 200px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.button-section &#123;  </span><br><span class="line">  display: flex;  </span><br><span class="line">  justify-content: flex-end;  </span><br><span class="line">  margin-top: 10px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.markdown-content &#123;  </span><br><span class="line">  padding: 10px;  </span><br><span class="line">  background-color: #f9f9f9;  </span><br><span class="line">  border-radius: 5px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.run-button &#123;  </span><br><span class="line">  background-color: white;  </span><br><span class="line">  color: black;  </span><br><span class="line">  border: 1px solid #dcdfe6;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.run-button:hover &#123;  </span><br><span class="line">  background-color: #f2f2f2;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.submit-button &#123;  </span><br><span class="line">  background-color: #009999;  </span><br><span class="line">  color: white;  </span><br><span class="line">  border: none;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">.submit-button:hover &#123;  </span><br><span class="line">  background-color: #007777;  </span><br><span class="line">&#125;  </span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>主要改动：后端增加了&#x2F;api&#x2F;submitCode，接口来处理用户的提交逻辑</p>
<p>后端应该返回一个有效的 JSON 响应</p>
<ul>
<li>使用了 <code>HashMap</code> 来创建一个可变的映射（<code>Map&lt;String, String&gt;</code>）。</li>
<li>使用 <code>put</code> 方法动态添加键值对，分别为 <code>&quot;status&quot;</code> 和 <code>&quot;message&quot;</code>。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/api/submitCode/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> CompletableFuture&lt;ResponseEntity&lt;Map&lt;String, String&gt;&gt;&gt; <span class="title function_">submitCode</span><span class="params">(</span></span><br><span class="line"><span class="params">        <span class="meta">@PathVariable</span> Integer id,</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestBody</span> CodeExecutionRequest request)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">OJ</span> <span class="variable">ojQuestion</span> <span class="operator">=</span> ojMapper.selectById(id);</span><br><span class="line">    <span class="keyword">if</span> (ojQuestion == <span class="literal">null</span>) &#123;</span><br><span class="line">        Map&lt;String, String&gt; errorResponse = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        errorResponse.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;题目不存在&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.completedFuture(</span><br><span class="line">                ResponseEntity.status(<span class="number">404</span>).body(errorResponse));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">String</span> <span class="variable">correctAnswer</span> <span class="operator">=</span> ojQuestion.getAnswer();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">userCode</span> <span class="operator">=</span> request.getCode();</span><br><span class="line">    <span class="type">String</span> <span class="variable">inputData</span> <span class="operator">=</span> request.getInput();</span><br><span class="line"></span><br><span class="line">    CompletableFuture&lt;String&gt; userCodeExecution = executeCode(userCode, inputData);</span><br><span class="line">    CompletableFuture&lt;String&gt; correctAnswerExecution = executeCode(correctAnswer, inputData);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> userCodeExecution.thenCombine(correctAnswerExecution, (userOutput, correctOutput) -&gt; &#123;</span><br><span class="line">        Map&lt;String, String&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  <span class="comment">// 使用 HashMap 以便动态添加数据</span></span><br><span class="line">        <span class="keyword">if</span> (userOutput.equals(correctOutput)) &#123;</span><br><span class="line">            result.put(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;correct&quot;</span>);</span><br><span class="line">            result.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;答案正确&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.put(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;incorrect&quot;</span>);</span><br><span class="line">            result.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;答案错误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(result);</span><br><span class="line">    &#125;).exceptionally(ex -&gt; &#123;</span><br><span class="line">        ex.printStackTrace();</span><br><span class="line">        Map&lt;String, String&gt; errorResponse = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        errorResponse.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;代码运行出错&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(<span class="number">500</span>).body(errorResponse);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>使用Json的形式返回前端，但是现在前端提交正确代码时{code: 200, message: “success”, data: {id: 1,…}} code : 200 data : {id: 1,…} message : “success”，前端弹窗却显示答案错误</p>
<p>解决方法：<br>可能 <code>Axios</code> 响应对象中并没有 <code>response.status</code>，通过 <code>response.data</code> 来获取实际返回的结果，而不是 <code>response.status</code><br>分别打印</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Full response:&#x27;</span>, response);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Result data:&#x27;</span>, result);</span><br></pre></td></tr></table></figure>
<p>与问题 1 属于同一原因导致的, </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">submitCode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> id = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">id</span>;</span><br><span class="line">  <span class="keyword">const</span> payload = &#123;</span><br><span class="line">    <span class="attr">code</span>: <span class="variable language_">this</span>.<span class="property">codeInput</span>,</span><br><span class="line">    <span class="attr">input</span>: <span class="variable language_">this</span>.<span class="property">testCase</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  request.<span class="title function_">post</span>(<span class="string">`http://localhost:9091/api/submitCode/<span class="subst">$&#123;id&#125;</span>`</span>, payload, &#123; <span class="attr">timeout</span>: <span class="number">15000</span> &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Full response:&#x27;</span>, response);  <span class="comment">// 打印完整响应对象</span></span><br><span class="line">      <span class="comment">// 检查 response 是否直接包含 message 和 status</span></span><br><span class="line">      <span class="keyword">if</span> (response.<span class="property">message</span> &amp;&amp; response.<span class="property">status</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Direct response message:&#x27;</span>, response.<span class="property">message</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Direct response status:&#x27;</span>, response.<span class="property">status</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showSubmitResult</span>(response.<span class="property">message</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (response.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="comment">// 打印 response.data 检查其是否存在</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Result data:&#x27;</span>, response.<span class="property">data</span>);</span><br><span class="line">        <span class="keyword">const</span> result = response.<span class="property">data</span>;</span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">status</span> === <span class="string">&quot;correct&quot;</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">showSubmitResult</span>(result.<span class="property">message</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">showSubmitResult</span>(result.<span class="property">message</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showSubmitResult</span>(<span class="string">&quot;无法解析服务器响应&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;提交代码时出错:&quot;</span>, error);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showSubmitResult</span>(<span class="string">&quot;提交失败，请重试&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其实这里可以换一种方式实现，比如将数据库正确答案传至 api 后的结果作为正确输出，和用户输入的代码及测试用例一起再次传到 api，这样可以直接把 api 返回的 json 传至前端，也不用加判断正误的逻辑，不用手动实现传输 json。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Oj版本一开发过程</p><p><a href="https://strangersinsist.github.io/2024/10/28/oj开发过程/">https://strangersinsist.github.io/2024/10/28/oj开发过程/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>zyh</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2024-10-28</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2024-10-28</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/web/">web</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2024/10/28/%E5%90%8E%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">后端常用注解</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2024/10/05/%E5%89%8D%E7%AB%AF%E4%B8%89%E4%BB%B6%E5%A5%97/"><span class="level-item">html+css+js基础</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comments"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "a6c5d856eb3366ef214bcd30ac3a1872",
            repo: "strangersinsist.github.io",
            owner: "strangersinsist",
            clientID: "Ov23liz2NAeres1OYeL6",
            clientSecret: "92a38f7da2d4d446fdb8f36fc11d246a6f4e18f6",
            admin: ["strangersinsist"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="strangersinsist"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">strangersinsist</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Sun Yat-Sen University</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">11</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/strangersinsist" target="_blank" rel="me noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/strangersinsist"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Gitee" href="https://gitee.com/strangersinsist"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#1-测评"><span class="level-left"><span class="level-item">1</span><span class="level-item">1 测评</span></span></a></li><li><a class="level is-mobile" href="#2-问题"><span class="level-left"><span class="level-item">2</span><span class="level-item">2 问题</span></span></a></li><li><a class="level is-mobile" href="#3-调用-api"><span class="level-left"><span class="level-item">3</span><span class="level-item">3 调用 api</span></span></a></li><li><a class="level is-mobile" href="#4-提交如何测评？"><span class="level-left"><span class="level-item">4</span><span class="level-item">4 提交如何测评？</span></span></a></li><li><a class="level is-mobile" href="#5-问题"><span class="level-left"><span class="level-item">5</span><span class="level-item">5 问题</span></span></a></li><li><a class="level is-mobile" href="#6-两者答案对比"><span class="level-left"><span class="level-item">6</span><span class="level-item">6 两者答案对比</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CTF/"><span class="level-start"><span class="level-item">CTF</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/STL/"><span class="level-start"><span class="level-item">STL</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/web%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">web开发</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">游戏开发</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">算法</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2024/10/28/docker/"><img src="/gallery/dockerImage.png" alt="docker"></a></figure><div class="media-content"><p class="date"><time dateTime="2024-10-28T15:03:22.627Z">2024-10-28</time></p><p class="title"><a href="/2024/10/28/docker/">docker</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-28T14:38:07.968Z">2024-10-28</time></p><p class="title"><a href="/2024/10/28/%E5%90%8E%E7%AB%AF%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/">后端常用注解</a></p><p class="categories"><a href="/categories/web%E5%BC%80%E5%8F%91/">web开发</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-28T14:37:41.804Z">2024-10-28</time></p><p class="title"><a href="/2024/10/28/oj%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B/">Oj版本一开发过程</a></p><p class="categories"><a href="/categories/web%E5%BC%80%E5%8F%91/">web开发</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-05T13:54:58.132Z">2024-10-05</time></p><p class="title"><a href="/2024/10/05/%E5%89%8D%E7%AB%AF%E4%B8%89%E4%BB%B6%E5%A5%97/">html+css+js基础</a></p><p class="categories"><a href="/categories/web%E5%BC%80%E5%8F%91/">web开发</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-03T14:36:04.828Z">2024-10-03</time></p><p class="title"><a href="/2024/10/03/STL/">CPP-STL</a></p><p class="categories"><a href="/categories/STL/">STL</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/10/"><span class="level-start"><span class="level-item">十月 2024</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">九月 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">七月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">六月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">五月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/12/"><span class="level-start"><span class="level-item">十二月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c#</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cpp/"><span class="tag">cpp</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ctf/"><span class="tag">ctf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springboot/"><span class="tag">springboot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E4%B8%89%E4%BB%B6%E5%A5%97/"><span class="tag">前端三件套</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="zyh&#039;s blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 zyh</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2024 zyh</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script src="/js/pjax.js"></script><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>